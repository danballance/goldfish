commands:
  - name: "custom-command"
    alias: "custom"
    description: "A custom runtime command"
    base_command: "echo"
    params:
      - name: "message"
        type: "string"
        required: true
        description: "Message to echo"
    platforms:
      linux:
        template: "{{.base_command}} '{{.params.message}}'"
      darwin:
        template: "{{.base_command}} '{{.params.message}}'"
      windows:
        template: "{{.base_command}} '{{.params.message}}'"

  - name: "replace-in-file"  # Override the default command
    alias: "replace" 
    description: "OVERRIDDEN Cross-platform sed replacement"
    base_command: "sed"
    params:
      - name: "expression"
        type: "string"
        required: true
        description: "CUSTOM Regular expression for find/replace (e.g., 's/old/new/g')"
      - name: "file"
        type: "string"
        required: true
        description: "Target file to modify"
      - name: "in-place"
        type: "bool"
        flag: "--in-place"
        description: "Edit file in-place instead of outputting to stdout"
    platforms:
      linux:
        template: "{{.base_command}} {{if .params.in_place}}-i{{end}} '{{.params.expression}}' {{.params.file}}"
      darwin:
        template: "{{.base_command}} {{if .params.in_place}}-i ''{{end}} '{{.params.expression}}' {{.params.file}}"
      windows:
        template: "powershell -Command \"(Get-Content {{.params.file}}) -replace '{{.params.expression}}' | {{if .params.in_place}}Set-Content {{.params.file}}{{else}}Write-Output{{end}}\""